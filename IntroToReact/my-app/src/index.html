<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.21.3/babel.min.js" integrity="sha512-CLQR0eNf/5JIWYwhNK7UGxMT2gZRouZm46rXlZHIye6Zk9ZWHKrGGbRkdPSzehgzBNSoTN/Sm3NGBjzgGgRpgw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>
<body>
    <ul class="js-content"></ul>
<script type="text/babel">

class Game extends React.Component {
    constructor(props) {
        super(props)
        this.state = {
            num1: Math.floor(Math.random() * 11),
            num2: Math.floor(Math.random() * 11),
            answer1: Math.floor(Math.random() * 101),
            answer2: Math.floor(Math.random() * 101),
            answer3: Math.floor(Math.random() * 101),
            correctCount: 0,
            incorrectCount: 0,
        }
        this.clickHandler = this.clickHandler.bind(this)
    }

    clickHandler(id, prevState) {
        if(id === 1) {
           this.setState((prevState) => {
            return {correctCount: prevState.correctCount + 1}
        })
    } else {
        this.setState((prevState) => {
            return {incorrectCount: prevState.incorrectCount +1}
        })
    }

    this.setState((prevState) => {
        return{num1:Math.floor(Math.random() * 11)}
    })

    this.setState((prevState) => {
        return{num2:Math.floor(Math.random() * 11)}
    })

    this.setState((prevState) => {
        return{answer1:Math.floor(Math.random() * 101)}
    })

    this.setState((prevState) => {
        return{answer2:Math.floor(Math.random() * 101)}
    })

    this.setState((prevState) => {
        return{answer3:Math.floor(Math.random() * 101)}
    })


    }
    render() {
        // let style = {
        //     display: "flex",
        //     flexWrap: "wrap",
        // }
        return (
            <div>
            <Question num1 = {this.state.num1} num2 = {this.state.num2}/>
            <Answer id={0}clickHandler = {this.clickHandler} name={this.state.answer1}/>            
            <Answer id={1} clickHandler = {this.clickHandler} name={(this.state.num1)*(this.state.num2)}/>
            <Answer id={2} clickHandler = {this.clickHandler} name={this.state.answer2}/>            
            <Answer id={3} clickHandler = {this.clickHandler} name={this.state.answer3}/>
            <Score correctCount = {this.state.correctCount} incorrectCount = {this.state.incorrectCount}/>
            </div>
        )
    }
}




function Question(props) {
    let style = {
        color: "red",
        width: 900,
    }
    return (
        <h3 style={style}>What is {props.num1} x {props.num2}?</h3>
    )
}

    class Answer extends React.Component {
    render(){
        return (
                <button style = {{display: "block", width: "60%"}}onClick ={() => {this.props.clickHandler(this.props.id)}}>{this.props.name}</button>
        )
    }
    }

function Score (props) {
    return (
        <div>
            <p>Correct: {props.correctCount}</p>
            <p>Incorrect: {props.incorrectCount}</p>
        </div>
    )
}


ReactDOM.render(
    <Game />,
    document.querySelector('.js-content')
);

</script>
</body>
</html>

